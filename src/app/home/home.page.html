<ion-content [fullscreen]="true" class="content ion-text-center ion-padding">  

  <ng-container *ngIf="homeTpl">

    <div class="content" @homeItem>

      <ion-img src="assets/linoy-omer.jpeg" class="content__image ion-margin-vertical"></ion-img>
  
      <p class="content__text-line" @scaleIn>
        <ion-text color="tertiary" class="content__text-line--fs-20">לינוי & עומר</ion-text>
      </p>
    
      <p class="content__text-line" @scaleIn>
        <ion-text color="secondary" class="content__text-line--fs-16">מתחתנים</ion-text>
      </p>
    
      <app-count-down class="content__text-line content__text-line--margin" @scaleIn></app-count-down>
    
      <p class="content__text-line content__text-line" @scaleIn>
        <ion-text class="content__text-line--fs-10">אנו שמחים ונרגשים להזמין אתכם לחגוג עימנו את יום נישואינו, שיערך ביום שני, כ׳ בסיוון תשפ״א</ion-text>
      </p>
    
      <p class="content__text-line content__text-line--margin" @scaleIn>
        <ion-text class="content__text-line--fs-16">31.05.2021</ion-text>
      </p>
    
      <ion-grid class="ion-margin-bottom">
        <ion-row @listAnimation>
          <ion-col @items>
            <div class="ion-text-center">
              <h3>19:30</h3>
              קבלת פנים
            </div>
          </ion-col>
          <ion-col @items>
            <div class="ion-text-center">
              <h3>״נסיה״</h3>
              צומת ראם
            </div>
          </ion-col>
          <ion-col @items>
            <div class="ion-text-center">
              <h3>20:30</h3>
              חופה וקידושין
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>

      <p class="content__text-line content__warning-message ion-padding" @scaleIn>
        <ion-text color="danger" class="content__text-line--fs-8">הכניסה לאולם תתאפשר אך ורק בהצגת תו ירוק / תעודת מחלים בלבד או בדיקת קורונה שלילית בתוקף 48 שעות לפני האירוע.</ion-text>
      </p>
    
      <ion-grid [formGroup]="form" novalidate>
        <ion-row>
          <ion-col>
            <ion-list @listAnimation>
              <ion-radio-group formControlName="isComming">
                <ion-list-header class="ion-text-center ion-no-padding" @items>
                  <ion-label class="content__text-line--fs-12">מתכוונים להגיע?</ion-label>
                </ion-list-header>
            
                <div class="content__radio-group-items">
                  <ion-item class="content__radio-group-item" color="success" @items>
                    <ion-label color="light">כמובן!!!</ion-label>
                    <ion-radio color="light" slot="start" value="Y"></ion-radio>
                  </ion-item>
  
                  <ion-item class="content__radio-group-item" color="warning" @items>
                    <ion-label color="light">עדיין מתלבטים</ion-label>
                    <ion-radio color="light" slot="start" value="M"></ion-radio>
                  </ion-item>
              
                  <ion-item class="content__radio-group-item" color="danger" @items>
                    <ion-label color="light">לא נגיע</ion-label>
                    <ion-radio color="light" slot="start" value="N"></ion-radio>
                  </ion-item>
                </div>

              </ion-radio-group>
            </ion-list>
          </ion-col>
        </ion-row>
    
        <ion-row class="ion-margin-top">
          <ion-col>
            <ion-item @scaleIn>
              <ion-label position="stacked">שם מלא</ion-label>
              <ion-input formControlName="fullname" autocomplete="name" autocorrect="off" clearInput="true" debounce="100" inputmode="text" spellcheck="false"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
    
        <ion-row class="ion-margin-top" *ngIf="isComing.value !== 'N'">
          <ion-col>
            <ion-item @scaleIn>
              <ion-label position="stacked">כמה אנשים תהיו?</ion-label>
              <ion-input type="number" formControlName="participants" pattern="[0-9]*" min="0" max="15" step="1" inputmode="numeric"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-margin-top" *ngIf="isComing.value !== 'N'">
          <ion-col>
            <p class="ion-padding ion-text-right" @scaleIn>
              <ion-text class="content__text-line--fs-10">לנוחיותכם יש הסעות הלוך וחזור. ההסעות יעברו בין הערים: תל אביב, חולון וראשל״צ.</ion-text>
            </p>
            <p class="ion-padding-bottom ion-padding-horizontal ion-text-right" @scaleIn>
              <ion-text class="content__text-line--fs-8">תל אביב - הלוך - יציאה ב-18:00</ion-text>
              <br>
              <ion-text class="content__text-line--fs-8">חולון - הלוך - יציאה ב-18:30</ion-text>
              <br>
              <ion-text class="content__text-line--fs-8">ראשל״צ - הלוך - יציאה ב-19:00</ion-text>
              <br>
              <ion-text class="content__text-line--fs-8">חזור - יציאה ב-00:30</ion-text>
            </p>
            <ion-item @scaleIn>
              <ion-label>מעוניינים בהסעה?</ion-label>
              <ion-checkbox formControlName="transportation" color="primary"></ion-checkbox>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-margin-top" *ngIf="isComing.value !== 'N' && !!transportation.value">
          <ion-col>
            <ion-item @scaleIn>
              <ion-label position="stacked">נקודת איסוף</ion-label>
              <ion-select formControlName="transportationPoint" okText="אישור" cancelText="סגור" placeholder="בחרו נקודת איסוף">
                <ion-select-option value="תל אביב">תל אביב</ion-select-option>
                <ion-select-option value="חולון">חולון</ion-select-option>
                <ion-select-option value="ראשל״צ">ראשל״צ</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
    
        <ion-row class="ion-margin-top ion-padding-top">
          <ion-col>
            <ion-button class="content__text-line--fs-12" color="tertiary" expand="block" (click)="submit()" [disabled]="form.invalid" @scaleIn>שלח</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

  </ng-container>

  <ng-container *ngIf="!homeTpl">

    <div class="content content__flex-center" @homeItem>

      <p class="content__text-line">
        <ion-text color="tertiary" class="content__text-line--fs-20 ion-text-center ion-padding">תודה רבה על תשובתכם</ion-text>
      </p>

      <ng-container *ngIf="isComing.value === 'Y'">
  
        <p class="content__text-line">
          <ion-text color="secondary" class="content__text-line--fs-16 ion-text-center ion-padding">מצפים לראותכם <span class="emoji">🤩🤩🤩</span></ion-text>
        </p>

        <app-google-waze-navigation></app-google-waze-navigation>

      </ng-container>

      <ng-container *ngIf="isComing.value === 'M'">
  
        <p class="content__text-line">
          <ion-text color="secondary" class="content__text-line--fs-16 ion-text-center ion-padding">מחזיקים אצבעות שכן תוכלו להגיע <span class="emoji">🙏🙏🙏</span></ion-text>
        </p>

      </ng-container>

      <ng-container *ngIf="isComing.value === 'N'">
  
        <p class="content__text-line">
          <ion-text color="secondary" class="content__text-line--fs-16 ion-text-center ion-padding">נשמח לראות אתכם באירועים הבאים</ion-text>
        </p>

      </ng-container>

      <ion-row class="ion-margin-top ion-padding-top">
        <ion-col>

          <p class="ion-margin">
            אתם <span [ngClass]="{'comming' : isComing.value === 'Y', 'not-comming' : isComing.value === 'N', 'maybe-comming' : isComing.value === 'M'}">{{isComing.value === 'N' ? 'לא מגיעים' : isComing.value === 'Y' ? 'מגיעים' : 'אולי מגיעים'}}</span> לחתונה
          </p>

          <ion-button class="ion-margin" color="tertiary" expand="block" (click)="reset()">רוצים לשנות תשובה?</ion-button>

        </ion-col>
      </ion-row>
    </div>

  </ng-container>
  
</ion-content>

<ion-footer class="footer ion-text-center ion-padding">
  Powered by <ion-text color="tertiary"><a href="https://www.linkedin.com/in/omer-tashir" target="_blank" class="footer__link">Omer Tashir</a></ion-text>
</ion-footer>